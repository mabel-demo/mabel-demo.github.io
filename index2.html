
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>å†œæ®‹æ··ç®¡åŠ©æ‰‹ Â· è”¬èœæ°´æœç‰ˆ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #f5f8f4;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            max-width: 650px;
            width: 100%;
            background: white;
            border-radius: 32px;
            box-shadow: 0 10px 25px rgba(0,30,10,0.05);
            padding: 28px 24px;
            border: 1px solid #e2f0da;
        }
        h1 {
            font-size: 28px;
            font-weight: 600;
            color: #1e3a2a;
            margin-bottom: 6px;
            letter-spacing: -0.3px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .subhead {
            color: #4a6b4f;
            font-size: 15px;
            margin-bottom: 28px;
            border-left: 5px solid #6daa7c;
            padding-left: 16px;
            background: #f0f7ee;
            border-radius: 0 12px 12px 0;
            line-height: 1.5;
        }
        .search-area {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 30px;
        }
        label {
            font-weight: 600;
            color: #1e4620;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .input-wrapper {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        #searchInput {
            flex: 1;
            padding: 16px 18px;
            border: 1.5px solid #d0e2cf;
            border-radius: 50px;
            font-size: 16px;
            background: white;
            transition: 0.2s;
            box-shadow: 0 1px 4px rgba(0,0,0,0.02);
        }
        #searchInput:focus {
            border-color: #2e7d5e;
            outline: none;
            box-shadow: 0 0 0 4px rgba(46,125,94,0.1);
        }
        #searchBtn {
            background: #1e4a2c;
            color: white;
            border: none;
            padding: 0 28px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: 0.15s;
            border: 1px solid #0e3a1e;
            letter-spacing: 0.3px;
        }
        #searchBtn:hover {
            background: #256f3b;
            transform: scale(0.98);
        }
        .result-card {
            background: #fafffb;
            border-radius: 28px;
            padding: 24px;
            border: 1px solid #c8e0cd;
            margin-top: 10px;
        }
        .crop-name {
            font-size: 32px;
            font-weight: 700;
            color: #0f3b1c;
            margin-bottom: 6px;
            display: flex;
            align-items: baseline;
            gap: 10px;
        }
        .badge {
            font-size: 16px;
            background: #eaf3e5;
            padding: 5px 15px;
            border-radius: 40px;
            color: #1d4e2a;
            font-weight: 500;
        }
        .pesticide-list {
            margin: 20px 0 16px;
            background: #eef8ef;
            border-radius: 20px;
            padding: 18px 20px;
        }
        .pesticide-title {
            font-weight: 600;
            color: #1d482b;
            margin-bottom: 12px;
            font-size: 17px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .pest-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed #b6d2bb;
        }
        .pest-item:last-child {
            border-bottom: none;
        }
        .pest-name {
            font-weight: 500;
            color: #1e3a2a;
        }
        .pest-rate {
            background: #fff;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 15px;
            color: #154f21;
            font-weight: 600;
        }
        .qualified-area {
            background: white;
            border-radius: 18px;
            padding: 18px;
            margin: 12px 0 8px;
            border: 1px solid #cfecd2;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        .percent {
            font-size: 42px;
            font-weight: 800;
            color: #1a3a23;
            line-height: 1;
        }
        .percent-unit {
            font-size: 18px;
            color: #4d7055;
            margin-left: 5px;
        }
        .mix-section {
            background: #fffbeb;
            border-radius: 24px;
            padding: 20px;
            margin-top: 16px;
            border-left: 8px solid #e2a14e;
        }
        .mix-title {
            font-weight: 700;
            color: #6a4a1c;
            font-size: 18px;
            margin-bottom: 10px;
        }
        .mix-desc {
            font-size: 22px;
            font-weight: 700;
            color: #1e4a2c;
            background: white;
            padding: 15px 18px;
            border-radius: 18px;
            border: 1px solid #eedba7;
            line-height: 1.4;
        }
        .no-result {
            color: #647b6a;
            text-align: center;
            padding: 30px 20px;
            background: #f1f9ef;
            border-radius: 28px;
            font-size: 17px;
        }
        .footer-note {
            margin-top: 28px;
            font-size: 13px;
            color: #6c8372;
            text-align: center;
            border-top: 1px solid #dbecdb;
            padding-top: 22px;
        }
        .sample-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 16px;
        }
        .sample-tag {
            background: #e4efe4;
            padding: 8px 18px;
            border-radius: 40px;
            font-size: 15px;
            color: #1d4e2a;
            font-weight: 500;
            border: 1px solid #afcaaf;
            cursor: pointer;
            transition: 0.1s;
        }
        .sample-tag:hover {
            background: #c8e0c8;
        }
        @media (max-width: 480px) {
            .container { padding: 20px; }
            .crop-name { font-size: 28px; }
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸŒ± å†œæ®‹æ··ç®¡æŒ‡å¼•</h1>
    <div class="subhead">
        è¾“å…¥è”¬èœ/æ°´æœå“ç§ â†’ æŸ¥çœ‹è¿‘3å¹´é«˜é¢‘å†œæ®‹ã€åˆæ ¼ç‡ã€‚<br>
        <span style="background: #2e6b42; color: white; padding: 3px 12px; border-radius: 40px; font-size: 14px; display: inline-block; margin-top: 8px;">ğŸŸ¢ åˆæ ¼ç‡ â‰¥94% è‡ªåŠ¨ç”Ÿæˆæ··ç®¡æ–¹æ¡ˆ</span>
    </div>

    <div class="search-area">
        <label>ğŸ” è¾“å…¥å“ç§åç§°</label>
        <div class="input-wrapper">
            <input type="text" id="searchInput" placeholder="ä¾‹å¦‚ï¼šèŠ¹èœã€è‰è“ã€éŸ­èœã€è±‡è±†" value="èŠ¹èœ">
            <button id="searchBtn">æŸ¥è¯¢</button>
        </div>
        <div class="sample-tags">
            <span class="sample-tag">èŠ¹èœ</span>
            <span class="sample-tag">è‰è“</span>
            <span class="sample-tag">éŸ­èœ</span>
            <span class="sample-tag">è±‡è±†</span>
            <span class="sample-tag">ä¸Šæµ·é’</span>
            <span class="sample-tag">è èœ</span>
        </div>
    </div>

    <!-- ç»“æœå±•ç¤ºåŒºï¼šåŠ¨æ€å¡«å…… -->
    <div id="resultContainer">
        <!-- é»˜è®¤ä¼šé€šè¿‡JSåŠ è½½èŠ¹èœæ•°æ® -->
    </div>
    <div class="footer-note">
        âš–ï¸ æ•°æ®ç»¼åˆè‡ªè¿‘3å¹´é£é™©ç›‘æµ‹åŠå­¦æœ¯æ–‡çŒ®ï¼Œæ··ç®¡å»ºè®®å‚è€ƒT/SQIA 066-2024 æ··åˆæ ·å“æµ‹å®šæŒ‡å¼•ã€‚
    </div>
</div>

<script>
    // ---------- ğŸŒ½ å†œäº§å“å†œæ®‹çŸ¥è¯†åº“ï¼ˆä½ éšæ—¶å¯ä»¥æ‰©å……ï¼‰--------
    const cropDatabase = {
        "èŠ¹èœ": {
            name: "èŠ¹èœ",
            passRate: 82.3,      // åˆæ ¼ç‡(%)
            pesticides: [
                { name: "è…éœ‰åˆ©",è¶…æ ‡é¢‘ç‡: "æé«˜" },
                { name: "æ¯’æ­»èœ±",è¶…æ ‡é¢‘ç‡: "è¾ƒé«˜" },
                { name: "ç”²æ‹Œç£·",è¶…æ ‡é¢‘ç‡: "ä¸­" }
            ],
            mixSuggestion: "ğŸ¥¬ å¸¸è§„é£é™©å“ç§ï¼Œåˆæ ¼ç‡ä½äº94%ï¼Œæ— éœ€æ··ç®¡ï¼Œå»ºè®®å•æ ªé€æ£€ã€‚"
        },
        "è‰è“": {
            name: "è‰è“",
            passRate: 97.5,
            pesticides: [
                { name: "çƒ¯é…°å—å•‰",è¶…æ ‡é¢‘ç‡: "è¾ƒé«˜" },
                { name: "å¡å”‘é†šèŒé…¯",è¶…æ ‡é¢‘ç‡: "ä¸­" },
                { name: "å•¶è™«è„’",è¶…æ ‡é¢‘ç‡: "ä¸­" }
            ],
            // åˆæ ¼ç‡â‰¥94% â†’ è‡ªåŠ¨ç”Ÿæˆæ··ç®¡ï¼ˆå…·ä½“é€»è¾‘è§å‡½æ•°ï¼‰
        },
        "éŸ­èœ": {
            name: "éŸ­èœ",
            passRate: 79.8,
            pesticides: [
                { name: "è…éœ‰åˆ©",è¶…æ ‡é¢‘ç‡: "æé«˜" },
                { name: "å…‹ç™¾å¨",è¶…æ ‡é¢‘ç‡: "é«˜" },
                { name: "æ°¯æ°Ÿæ°°èŠé…¯",è¶…æ ‡é¢‘ç‡: "ä¸­" }
            ],
            mixSuggestion: "ğŸ§… æœ¬å“åˆæ ¼ç‡åä½ï¼Œæ— éœ€æ··ç®¡ã€‚å»ºè®®æ¯æ‰¹æŠ½æ ·10æ ªã€‚"
        },
        "è±‡è±†": {
            name: "è±‡è±†",
            passRate: 86.4,
            pesticides: [
                { name: "ç­è‡èƒº",è¶…æ ‡é¢‘ç‡: "é«˜" },
                { name: "æ°§ä¹æœ",è¶…æ ‡é¢‘ç‡: "è¾ƒé«˜" },
                { name: "é˜¿ç»´èŒç´ ",è¶…æ ‡é¢‘ç‡: "ä¸­" }
            ],
            mixSuggestion: "ğŸ«˜ åˆæ ¼ç‡æœªè¾¾94%ï¼Œæš‚ä¸å¯ç”¨æ··ç®¡ã€‚"
        },
        "ä¸Šæµ·é’": {
            name: "ä¸Šæµ·é’",
            passRate: 93.2,   // ä½äº94%
            pesticides: [
                { name: "å•¶è™«è„’",è¶…æ ‡é¢‘ç‡: "è¾ƒé«˜" },
                { name: "æ°¯æ°°èŠé…¯",è¶…æ ‡é¢‘ç‡: "ä¸­" },
                { name: "å¡è™«å•‰",è¶…æ ‡é¢‘ç‡: "ä¸­" }
            ],
            mixSuggestion: "ğŸ¥¬ åˆæ ¼ç‡ä½äº94%ï¼Œå¸¸è§„é€æ£€å³å¯ã€‚"
        },
        "è èœ": {
            name: "è èœ",
            passRate: 95.8,
            pesticides: [
                { name: "æ¯’æ­»èœ±",è¶…æ ‡é¢‘ç‡: "ä¸­" },
                { name: "æ°¯æ°Ÿæ°°èŠé…¯",è¶…æ ‡é¢‘ç‡: "ä¸­" },
                { name: "ç™¾èŒæ¸…",è¶…æ ‡é¢‘ç‡: "ä¸­ä½" }
            ]
        },
        "è‹¹æœ": {
            name: "è‹¹æœ",
            passRate: 98.1,
            pesticides: [
                { name: "å¤šèŒçµ",è¶…æ ‡é¢‘ç‡: "ä¸­ä½" },
                { name: "ç”²åŸºç¡«èŒçµ",è¶…æ ‡é¢‘ç‡: "ä½" }
            ]
        },
        "è‘¡è„": {
            name: "è‘¡è„",
            passRate: 91.4,
            pesticides: [
                { name: "å·±å”‘é†‡",è¶…æ ‡é¢‘ç‡: "ä¸­" },
                { name: "å˜§èŒé…¯",è¶…æ ‡é¢‘ç‡: "ä¸­" }
            ],
            mixSuggestion: "ğŸ‡ åˆæ ¼ç‡ä½äº94%ï¼Œæ— éœ€æ··ç®¡ã€‚"
        }
    };

    // ä¸ºéƒ¨åˆ†å“ç§é¢„ç½®æ··ç®¡ï¼ŒåŒæ—¶å¯¹äºåˆæ ¼ç‡â‰¥94% å¼ºåˆ¶ç”Ÿæˆæ··ç®¡å»ºè®®ï¼ˆè¦†ç›–é¢„è®¾ï¼‰
    function generateMixSuggestion(cropName, passRate) {
        // æ ¹æ®ä½ çš„è¦æ±‚ï¼šåˆæ ¼ç‡ â‰¥ 94% ç”Ÿæˆæ··ç®¡æ–¹å¼
        if (passRate >= 94) {
            if (cropName.includes("è‰è“")) {
                return "ğŸ“ æ··ç®¡å»ºè®®ï¼šæ¯5é¢—è‰è“æ··åˆä¸º1ä»½æ ·å“ï¼ˆæœæŸ„åˆ‡é™¤åæ··åŒ€ï¼‰ã€‚";
            } else if (cropName.includes("è èœ")) {
                return "ğŸŒ¿ æ··ç®¡å»ºè®®ï¼šæ¯10æ ªè èœæ··ä¸º1æ ·ï¼Œåˆ‡æ®µæ··åŒ€åå–500gã€‚";
            } else if (cropName.includes("è‹¹æœ")) {
                return "ğŸ æ··ç®¡å»ºè®®ï¼šæ¯12ä¸ªè‹¹æœï¼ˆå¯¹è§’çº¿å–æ ·ï¼‰æ··ä¸º1ä»½ï¼Œå–æœçš®æœè‚‰æ··åˆã€‚";
            } else {
                // é€šç”¨æ··ç®¡æ–¹æ¡ˆ
                return `âœ… ${cropName}åˆæ ¼ç‡${passRate}%â‰¥94%ï¼Œå»ºè®®æ¯8~10ä¸ªä¸ªä½“æ··åˆä¸º1ä¸ªæ£€æµ‹æ ·ã€‚`;
            }
        } else {
            // ä½äº94%ï¼šæ˜¾ç¤ºåº“é‡Œçš„é¢„è®¾ï¼Œè‹¥æ— åˆ™ç»™é»˜è®¤æ–‡æ¡ˆ
            const crop = cropDatabase[cropName];
            if (crop && crop.mixSuggestion) return crop.mixSuggestion;
            else return `â›” åˆæ ¼ç‡${passRate}%ï¼œ94%ï¼Œæš‚ä¸æ¨èæ··ç®¡ã€‚å»ºè®®åŠ å¼ºæŠ½æ£€æ¯”ä¾‹ã€‚`;
        }
    }

    // æ¸²æŸ“é¡µé¢
    function renderCrop(cropName) {
        const container = document.getElementById("resultContainer");
        const crop = cropDatabase[cropName];
        
        if (!crop) {
            container.innerHTML = `<div class="no-result">ğŸŒ«ï¸ æš‚æ— ã€Œ${cropName}ã€çš„å†œæ®‹æ¡£æ¡ˆ<br><span style="font-size:14px; margin-top:12px; display:block;">è¯•è¯•ä¸Šæ–¹æ ·å“è¯ï¼Œæˆ–è”ç³»ç®¡ç†å‘˜æ·»åŠ ã€‚</span></div>`;
            return;
        }

        const pass = crop.passRate;
        const hasMix = pass >= 94;   // æ··ç®¡æ ‡è¯†
        // æœ€ç»ˆæ··ç®¡å»ºè®®ï¼ˆä¼˜å…ˆä½¿ç”¨åŠ¨æ€ç”Ÿæˆçš„ï¼‰
        const finalMixSuggestion = generateMixSuggestion(cropName, pass);

        // å†œæ®‹åˆ—è¡¨html
        let pestHtml = '';
        if (crop.pesticides && crop.pesticides.length > 0) {
            crop.pesticides.forEach(p => {
                pestHtml += `<div class="pest-item"><span class="pest-name">ğŸ§ª ${p.name}</span><span class="pest-rate">${p.è¶…æ ‡é¢‘ç‡}</span></div>`;
            });
        } else {
            pestHtml = '<div style="padding: 12px; color: #5f735a;">æš‚æ— è¯¦ç»†å†œæ®‹æ•°æ®</div>';
        }

        // æ„å»ºå¡ç‰‡
        let html = `
            <div class="result-card">
                <div class="crop-name">
                    ${crop.name}
                    <span class="badge">${hasMix ? 'ğŸ”„ å¯ç”¨æ··ç®¡' : 'ğŸ“¦ å•æ ·é€æ£€'}</span>
                </div>
                <div class="pesticide-list">
                    <div class="pesticide-title">âš ï¸ è¿‘ä¸‰å¹´é«˜é¢‘å†œæ®‹</div>
                    ${pestHtml}
                </div>
                <div class="qualified-area">
                    <span style="font-weight:600; color: #1d482b;">ğŸ§¾ æ€»ä½“åˆæ ¼ç‡</span>
                    <span><span class="percent">${pass}</span><span class="percent-unit">%</span></span>
                </div>
        `;

        // æ··ç®¡åŒºåŸŸï¼šåªæœ‰åˆæ ¼ç‡â‰¥94%æ‰æ˜¾ç¤ºæ··ç®¡æ–¹æ¡ˆ
        if (hasMix) {
            html += `
                <div class="mix-section">
                    <div class="mix-title">ğŸ§´ æ··ç®¡ç”Ÿæˆæ–¹æ¡ˆï¼ˆåˆæ ¼ç‡â‰¥94%ï¼‰</div>
                    <div class="mix-desc">${finalMixSuggestion}</div>
                    <div style="margin-top: 14px; font-size: 15px; color: #5f4a1a; background: #fff9e0; padding: 10px 16px; border-radius: 30px;">
                    ğŸ§ª æ··æ ·æ£€æµ‹å¯é™ä½å•æ ·æˆæœ¬ï¼Œå»ºè®®å¹³è¡Œæ ·2æ¬¡ã€‚
                    </div>
                </div>
            `;
        } else {
            // ä½äº94% â€”â€” æ˜¾ç¤ºä¸éœ€è¦æ··ç®¡ï¼Œä½†æ˜¯ç»™å‡ºå…·ä½“å»ºè®®ï¼ˆåŸæœ¬é¢„è®¾æˆ–è€…é€šç”¨ï¼‰
            html += `
                <div style="background: #e8f0e7; border-radius: 18px; padding: 18px; margin-top: 8px; color: #2a5432;">
                    <span style="font-weight:700;">ğŸ“Œ å†œæ®‹é£é™©è¾ƒé«˜ï¼Œåˆæ ¼ç‡ä½äº94%</span>
                    <div style="margin-top: 10px; font-size: 16px;">${finalMixSuggestion}</div>
                </div>
            `;
        }

        html += `</div>`; // å…³é—­card
        container.innerHTML = html;
    }

    // åˆå§‹åŒ– + ç›‘å¬äº‹ä»¶
    window.onload = function() {
        const searchBtn = document.getElementById("searchBtn");
        const searchInput = document.getElementById("searchInput");
        const tagList = document.querySelectorAll(".sample-tag");

        // é»˜è®¤åŠ è½½èŠ¹èœï¼ˆä½åˆæ ¼ç‡å±•ç¤ºï¼‰
        renderCrop("èŠ¹èœ");

        // æœç´¢æŒ‰é’®
        searchBtn.addEventListener("click", function() {
            const query = searchInput.value.trim();
            if (query === "") {
                alert("è¯·è¾“å…¥å“ç§åç§°");
                return;
            }
            renderCrop(query);
        });

        // å›è½¦
        searchInput.addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                searchBtn.click();
            }
        });

        // æ ‡ç­¾ç‚¹å‡»
        tagList.forEach(tag => {
            tag.addEventListener("click", function() {
                const text = this.innerText;
                searchInput.value = text;
                renderCrop(text);
            });
        });
    };
</script>

</body>
</html>
